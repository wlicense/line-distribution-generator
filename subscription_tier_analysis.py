"""
サブスク生（月額9,800円）の最適回数分析
グループコンサル込みプランのプロンプト利用回数
"""

print("=" * 80)
print("【サブスク生プラン分析 - 月額9,800円（グルコン込み）】")
print("=" * 80)
print()

# コスト設定
api_cost_per_use = 0.38  # 円/回
infra_cost_per_user = 45  # 円/月
subscription_price = 9800  # 円/月

print(f"月額料金: {subscription_price:,}円")
print(f"API単価: {api_cost_per_use}円/回")
print(f"インフラコスト: {infra_cost_per_user}円/人")
print()

# サブスクプランの特性
print("=" * 80)
print("【サブスクプランの特性】")
print("=" * 80)
print()

print("📌 ビジネスモデル:")
print("  - メイン価値: グループコンサル、コミュニティ参加")
print("  - プロンプトライブラリ: 付加価値・特典")
print("  - 月額9,800円 = グルコン価値が大部分")
print()

print("📌 ユーザー心理:")
print("  - プロンプトは「おまけ」ではなく「使い放題特典」")
print("  - 「グルコン＋プロンプト使い放題」でお得感")
print("  - 追加購入を促すより満足度重視")
print("  - 本コース生との差別化は必要")
print()

# 回数オプションの分析
print("=" * 80)
print("【回数オプション分析】")
print("=" * 80)
print()

options = [
    (100, "控えめ", "1日3回、無料の10倍"),
    (150, "標準", "1日5回、中間プラン"),
    (200, "充実", "1日6-7回、たっぷり使える"),
    (250, "豊富", "1日8回、ほぼ無制限感"),
    (300, "大量", "1日10回、無制限感MAX"),
]

print("| 回数   | タイプ | APIコスト | 総原価 | 粗利   | 粗利率 | 1回単価 | 無料比 | 1日換算 |")
print("|--------|--------|----------|--------|--------|--------|---------|--------|---------|")

for uses, type_name, description in options:
    api_cost = uses * api_cost_per_use
    total_cost = api_cost + infra_cost_per_user
    profit = subscription_price - total_cost
    profit_rate = (profit / subscription_price) * 100
    per_use = subscription_price / uses
    free_ratio = uses / 10  # 無料10回との比較
    per_day = uses / 30

    print(f"| {uses:3d}回  | {type_name:6s} | {api_cost:6.0f}円  | {total_cost:5.0f}円 | {profit:5.0f}円 | {profit_rate:5.1f}% | {per_use:6.1f}円 | {free_ratio:4.0f}倍 | {per_day:5.1f}回 |")

print()

# 心理学的分析
print("=" * 80)
print("【心理学的分析 - サブスク生の行動パターン】")
print("=" * 80)
print()

print("🎯 無料サロン生との違い:")
print("  - 無料: 10回 → 「もっと使いたい」（追加購入促進）")
print("  - サブスク: ???回 → 「使い放題で満足」（満足度重視）")
print()

print("📊 使用頻度の予測:")
print()

usage_patterns = [
    ("ライトユーザー", "30%", "月20-50回", "週1-2回使用"),
    ("ミドルユーザー", "50%", "月50-150回", "週2-5回使用"),
    ("ヘビーユーザー", "20%", "月150-300回", "ほぼ毎日使用"),
]

print("| ユーザータイプ | 割合 | 使用回数   | 頻度        |")
print("|--------------|------|-----------|-------------|")
for user_type, ratio, uses_range, frequency in usage_patterns:
    print(f"| {user_type:14s} | {ratio:4s} | {uses_range:10s} | {frequency:12s} |")

print()
print("💡 考察:")
print("  - ライト30% × 35回 = 10.5回/人")
print("  - ミドル50% × 100回 = 50回/人")
print("  - ヘビー20% × 225回 = 45回/人")
print("  - 平均: 約105回/人")
print()

# 推奨回数の決定
print("=" * 80)
print("【推奨回数の決定】")
print("=" * 80)
print()

print("🎯 候補1: 月150回")
print()
print("メリット:")
print("  ✅ 1日5回使える（実用的）")
print("  ✅ 原価102円で粗利率99.0%")
print("  ✅ 無料10回の15倍（明確な差別化）")
print("  ✅ ミドルユーザー（50%）が満足")
print()
print("デメリット:")
print("  ⚠️ ヘビーユーザー（20%）は追加購入必要")
print("  ⚠️ 「使い放題感」がやや弱い")
print()

print("-" * 80)
print()

print("🎯 候補2: 月200回")
print()
print("メリット:")
print("  ✅ 1日6-7回使える（たっぷり）")
print("  ✅ 原価121円で粗利率98.8%")
print("  ✅ 無料10回の20倍（インパクト大）")
print("  ✅ ヘビーユーザー（20%）もほぼ満足")
print("  ✅ 「使い放題感」がある")
print()
print("デメリット:")
print("  ⚠️ 本コース1,000回との差が大きい（5倍差）")
print()

print("-" * 80)
print()

print("🎯 候補3: 月300回")
print()
print("メリット:")
print("  ✅ 1日10回使える（ほぼ無制限）")
print("  ✅ 原価159円で粗利率98.4%")
print("  ✅ ヘビーユーザーも完全満足")
print("  ✅ 「使い放題感」MAX")
print()
print("デメリット:")
print("  ⚠️ 本コース1,000回との差が縮まる（3.3倍差）")
print("  ⚠️ オーバースペックの可能性")
print()

# 本コース生との比較
print("=" * 80)
print("【本コース生（1,000回）との比較】")
print("=" * 80)
print()

print("| プラン      | 月額*    | 回数      | 1日換算  | 1回単価  | 差別化ポイント        |")
print("|------------|---------|----------|---------|---------|---------------------|")
print("| 無料        | 無料     | 10回     | 0.3回   | -       | お試し               |")
print("| サブスク150 | 9,800円  | 150回    | 5.0回   | 65.3円  | グルコン＋プロンプト    |")
print("| サブスク200 | 9,800円  | 200回    | 6.7回   | 49.0円  | グルコン＋使い放題感    |")
print("| サブスク300 | 9,800円  | 300回    | 10.0回  | 32.7円  | グルコン＋無制限感     |")
print("| 本コース    | 19,800円*| 1,000回  | 33.3回  | 19.8円  | ヘビーユーザー向け     |")
print()
print("*本コース生の月額は仮設定")
print()

# 差別化の明確さ
print("=" * 80)
print("【プラン間の差別化明確度】")
print("=" * 80)
print()

differentiation = [
    ("150回案", "無料10回 → 15倍", "本コース1,000回 → 6.7倍", "差別化: 明確"),
    ("200回案", "無料10回 → 20倍", "本コース1,000回 → 5.0倍", "差別化: 非常に明確"),
    ("300回案", "無料10回 → 30倍", "本コース1,000回 → 3.3倍", "差別化: やや曖昧"),
]

print("| 回数設定 | vs 無料        | vs 本コース     | 評価         |")
print("|---------|---------------|----------------|-------------|")
for plan, vs_free, vs_premium, rating in differentiation:
    print(f"| {plan:8s} | {vs_free:14s} | {vs_premium:15s} | {rating:12s} |")

print()

# 最終推奨
print("=" * 80)
print("【最終推奨】")
print("=" * 80)
print()

print("🎯 推奨: **月200回**")
print()

print("根拠:")
print("  ✅ 1日6-7回使える（実用的で「使い放題感」）")
print("  ✅ 原価121円で粗利率98.8%（十分な利益）")
print("  ✅ 単価49円/回でお得感がある")
print("  ✅ 無料10回の20倍（明確な差別化）")
print("  ✅ 本コース1,000回の5倍差（アップセル余地）")
print("  ✅ グルコンがメイン、プロンプトは「使い放題特典」として最適")
print()

print("ユーザー体験:")
print("  - ライトユーザー（30%）: 月20-50回 → 十分満足")
print("  - ミドルユーザー（50%）: 月50-150回 → 満足")
print("  - ヘビーユーザー（20%）: 月150-250回 → ほぼ満足")
print()

print("セールスポイント:")
print("  💬 「グループコンサル参加＋AIプロンプト200回使い放題」")
print("  💬 「1日6-7回、ビジネスで実用的に使える回数」")
print("  💬 「1回49円、ChatGPT Plusより圧倒的にお得」")
print()

# 追加クレジットの必要性
print("=" * 80)
print("【追加クレジット販売の必要性】")
print("=" * 80)
print()

print("200回設定の場合:")
print()
print("  ヘビーユーザー（20%）の一部が追加購入する可能性:")
print("    - 月200回超のユーザー: 約10%（全体の2%）")
print("    - 追加購入: 50-100回（200-500円）")
print("    - 追加収益: 30人中3人 × 300円 = 900円/月")
print()
print("  💡 サブスク生への追加販売は「おまけ」程度")
print("     メイン収益は月額9,800円で十分")
print()

# 比較表
print("=" * 80)
print("【3プラン最終比較表】")
print("=" * 80)
print()

print("| プラン         | 月額      | 利用回数 | 原価    | 粗利率  | 1回単価 | 1日回数 |")
print("|---------------|----------|---------|---------|---------|---------|---------|")
print("| 無料サロン生   | 無料      | 月10回   | 3.8円*  | -       | -       | 0.3回   |")
print("| サブスク生     | 9,800円   | 月200回  | 121円   | 98.8%   | 49円/回  | 6.7回   |")
print("| 本コース生     | 19,800円* | 月1,000回 | 425円   | 97.9%   | 19.8円/回| 33.3回  |")
print()
print("*無料は500人分のコストを1人換算、本コースの月額は仮設定")
print()

print("=" * 80)
print("✅ サブスク生は月200回が最適！")
print("=" * 80)
print()
print("グルコンがメイン価値、プロンプト200回は「使い放題の特典」")
print("無料10回から20倍増で明確な差別化、本コース1,000回へのアップセル余地も確保")
print("=" * 80)
